{% extends 'main.html' %}
{% block content %}

<style>
    .room-container{
      display: grid;
      grid-template-columns: 3fr 1fr;
    }
  </style>

<div class="room-container">
    <div>
<h1>Room: {{ room.name }}</h1>
<p>{{ room.description }}</p>
<p>Hosted by: {{ room.host.username }}</p>

<a href="{% url 'home' %}">Back to Home</a>

<div class="comment-wrapper">
    <h3>Chat Here</h3>
    <hr>
    {% for message in room_messages %}
    <div>
        <span>@{{ message.user.username }}</span>
        <span class="thread__date">{{ message.created|timesince }} ago</span>
        <p>{{ message.body }}</p>
        <hr>
    </div>
    {% empty %}
    <p>No messages yet. Be the first to chat!</p>
    {% endfor %}
</div>

{% if request.user.is_authenticated %}
<div class="comment-form">
    <form method="POST" action="">
        {% csrf_token %}
        <input type="text" name="body" placeholder="Enter your message here..." required>
        <button type="submit">Send</button>
    </form>
</div>
{% else %}
<p>You need to <a href="{% url 'signin' %}">sign in</a> to chat.</p>
{% endif %}
</div>
<div>
<h3>Our Community</h3>
<hr>
</div>
</div>
{% endblock %}
